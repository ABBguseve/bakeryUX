<<<<<<< HEAD
{"remainingRequest":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\src\\views\\bestallningar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\src\\views\\bestallningar.vue","mtime":1622448171133},{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621491293757},{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\babel-loader\\lib\\index.js","mtime":1621491293202},{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621491293757},{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\vue-loader\\lib\\index.js","mtime":1621491314750}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJBcHAiLA0KDQogIGRhdGE6ICgpID0+ICh7DQogICAgICBpbkNhcnQ6IG51bGwNCiAgfSksDQogIG1vdW50ZWQgKCkgew0KICAgICAgdGhpcy5pbkNhcnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpbkNhcnQiKSkNCiAgfQ0KfQ0K"},{"version":3,"sources":["bestallningar.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bestallningar.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <h1 v-for=\"i in inCart\" :key=\"i.id\">{{i.name}}</h1>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"App\",\r\n\r\n  data: () => ({\r\n      inCart: null\r\n  }),\r\n  mounted () {\r\n      this.inCart = JSON.parse(localStorage.getItem(\"inCart\"))\r\n  }\r\n}\r\n</script>\r\n"]}]}
=======
{"remainingRequest":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\src\\views\\bestallningar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\src\\views\\bestallningar.vue","mtime":1622448108510},{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621491293757},{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\babel-loader\\lib\\index.js","mtime":1621491293202},{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621491293757},{"path":"C:\\Users\\Super\\Documents\\GitHub\\bakeryUX\\website\\node_modules\\vue-loader\\lib\\index.js","mtime":1621491314750}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJBcHAiLA0KDQogIGRhdGE6ICgpID0+ICh7DQogICAgICBpbkNhcnQ6IG51bGwsDQogICAgICBjdXJyVXNlcjogbnVsbCwNCiAgICAgIGRpc2FibGVkOiBmYWxzZQ0KICB9KSwNCiAgbW91bnRlZCAoKSB7DQogICAgICB0aGlzLmluQ2FydCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImluQ2FydCIpKQ0KICAgICAgdGhpcy5jdXJyVXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIlN0b3JhZ2VfY3VzdG9tZXIiKSkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgICAgcmVtb3ZlKElEKXsNCiAgICAgICAgbGV0IGNhcnRJdGVtcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImluQ2FydCIpKQ0KICAgICAgICBmb3IobGV0IGl0ZW0gaW4gY2FydEl0ZW1zKXsNCiAgICAgICAgICAgIGlmKGNhcnRJdGVtc1tpdGVtXS5pZCA9PSBJRCl7DQogICAgICAgICAgICAgICAgaWYoY2FydEl0ZW1zW2l0ZW1dLnF1YW50aXR5ID09IDApew0KICAgICAgICAgICAgICAgICAgICBjYXJ0SXRlbXNbaXRlbV0gPSAwDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhcnRJdGVtcykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgY2FydEl0ZW1zW2l0ZW1dLnF1YW50aXR5IC09IDENCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImluQ2FydCIpDQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpbkNhcnQiLCBKU09OLnN0cmluZ2lmeShjYXJ0SXRlbXMpKQ0KICAgICAgICB0aGlzLmluQ2FydCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImluQ2FydCIpKQ0KICAgIH0sDQogICAgYWRkKElEKXsNCiAgICAgICAgbGV0IGNhcnRJdGVtcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImluQ2FydCIpKQ0KICAgICAgICBmb3IobGV0IGl0ZW0gaW4gY2FydEl0ZW1zKXsNCiAgICAgICAgICAgIGlmKGNhcnRJdGVtc1tpdGVtXS5pZCA9PSBJRCl7DQogICAgICAgICAgICAgICAgY2FydEl0ZW1zW2l0ZW1dLnF1YW50aXR5ICs9IDENCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiaW5DYXJ0IikNCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImluQ2FydCIsIEpTT04uc3RyaW5naWZ5KGNhcnRJdGVtcykpDQogICAgICAgIHRoaXMuaW5DYXJ0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaW5DYXJ0IikpDQogICAgfSwNCiAgICBvcmRlcigpew0KICAgICAgICBsZXQgY2FrZUxpc3QgPSBbXQ0KICAgICAgICBsZXQgaW5DYXJ0ID0gdGhpcy5pbkNhcnQNCiAgICAgICAgZm9yKGxldCBpIGluIGluQ2FydCl7DQogICAgICAgICAgICBpZihpbkNhcnRbaV0ucXVhbnRpdHkgPiAwKXsNCiAgICAgICAgICAgICAgICBjYWtlTGlzdC5wdXNoKHtpZDogaW5DYXJ0W2ldLmlkLCBxdWFudGl0eTogaW5DYXJ0W2ldLnF1YW50aXR5fSkNCiAgICAgICAgICAgIH0gICANCiAgICAgICAgfQ0KICAgICAgICBjb25zdCBvcmRlckl0ZW0gPSB7Y3VzdG9tZXJJRDogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiU3RvcmFnZV9jdXN0b21lciIpKS5pZCwgY2FrZXM6IGNha2VMaXN0LCB0b3RhbFByaWNlOiB0aGlzLnRvdFByaWNlfQ0KICAgICAgICBheGlvcw0KICAgICAgICAucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL29yZGVycycsIG9yZGVySXRlbSkNCg0KICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiaW5DYXJ0IikNCiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImluQ2FydCIsIEpTT04uc3RyaW5naWZ5KFtdKSkNCiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWUNCiAgICAgICAgYWxlcnQoIkRpbiBiZXN0w6RsbG5pbmcgw6RyIHNraWNrYWQhIikNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAgIHRvdFByaWNlKCkgew0KICAgICAgICAgIGxldCB0b3RhbFByaWNlID0gMA0KICAgICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLmluQ2FydCl7DQogICAgICAgICAgICAgIGlmKHRoaXMuaW5DYXJ0W2ldLnF1YW50aXR5ID4gMCl7DQogICAgICAgICAgICAgICAgICB0b3RhbFByaWNlICs9ICh0aGlzLmluQ2FydFtpXS5wcmljZSp0aGlzLmluQ2FydFtpXS5xdWFudGl0eSkNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICByZXR1cm4gdG90YWxQcmljZQ0KICAgICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["bestallningar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bestallningar.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div\r\n            class=\"d-flex flex-column justify-center align-center\"\r\n            style=\"font-family: 'Lobster', cursive; width: 100%; text-align: center\"\r\n            v-if=\"currUser\"\r\n        >\r\n            <div style=\"width: 80%\" v-for=\"i in inCart\" :key=\"i.id\">\r\n                <div v-if=\"i.quantity > 0\" style=\"display: flex\">\r\n                    <h1 >{{i.name}}</h1>\r\n                    <v-spacer></v-spacer>\r\n                    <h2>{{i.quantity}}</h2>\r\n                    <v-btn\r\n                        fab\r\n                        color=\"positive\"\r\n                        small\r\n                        @click=\"add(i.id)\"\r\n                        class=\"ml-5\"\r\n                    >\r\n                    <v-icon>mdi-plus</v-icon>\r\n                    </v-btn>\r\n                    <v-btn\r\n                        fab\r\n                        small\r\n                        color=\"negative\"\r\n                        class=\"ml-5\"\r\n                        @click=\"remove(i.id)\"\r\n                    >\r\n                    <v-icon>mdi-minus</v-icon>\r\n                    </v-btn>\r\n                </div>\r\n            </div>\r\n            <h1 class=\"mt-15\">Totalt pris: {{totPrice}}Kr</h1>\r\n            <v-btn\r\n                class=\"navBtn mt-15\"\r\n                color=\"primary\"\r\n                x-large\r\n                @click=\"order()\"\r\n                :disabled=\"disabled\"\r\n            >Beställ nu!</v-btn>\r\n        </div>\r\n        <div\r\n            class=\"d-flex flex-column justify-center align-center\"\r\n            style=\"font-family: 'Lobster', cursive; width: 100%; text-align: center\"\r\n            v-else\r\n        >\r\n        <h1 style=\"color: #599FA8\">Logga in för att handla</h1>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n  name: \"App\",\r\n\r\n  data: () => ({\r\n      inCart: null,\r\n      currUser: null,\r\n      disabled: false\r\n  }),\r\n  mounted () {\r\n      this.inCart = JSON.parse(localStorage.getItem(\"inCart\"))\r\n      this.currUser = JSON.parse(localStorage.getItem(\"Storage_customer\"))\r\n  },\r\n  methods: {\r\n      remove(ID){\r\n        let cartItems = JSON.parse(localStorage.getItem(\"inCart\"))\r\n        for(let item in cartItems){\r\n            if(cartItems[item].id == ID){\r\n                if(cartItems[item].quantity == 0){\r\n                    cartItems[item] = 0\r\n                    console.log(cartItems)\r\n                }\r\n                else{\r\n                    cartItems[item].quantity -= 1\r\n                }\r\n            }\r\n        }\r\n        localStorage.removeItem(\"inCart\")\r\n        localStorage.setItem(\"inCart\", JSON.stringify(cartItems))\r\n        this.inCart = JSON.parse(localStorage.getItem(\"inCart\"))\r\n    },\r\n    add(ID){\r\n        let cartItems = JSON.parse(localStorage.getItem(\"inCart\"))\r\n        for(let item in cartItems){\r\n            if(cartItems[item].id == ID){\r\n                cartItems[item].quantity += 1\r\n            }\r\n        }\r\n        localStorage.removeItem(\"inCart\")\r\n        localStorage.setItem(\"inCart\", JSON.stringify(cartItems))\r\n        this.inCart = JSON.parse(localStorage.getItem(\"inCart\"))\r\n    },\r\n    order(){\r\n        let cakeList = []\r\n        let inCart = this.inCart\r\n        for(let i in inCart){\r\n            if(inCart[i].quantity > 0){\r\n                cakeList.push({id: inCart[i].id, quantity: inCart[i].quantity})\r\n            }   \r\n        }\r\n        const orderItem = {customerID: JSON.parse(localStorage.getItem(\"Storage_customer\")).id, cakes: cakeList, totalPrice: this.totPrice}\r\n        axios\r\n        .post('http://localhost:3000/orders', orderItem)\r\n\r\n        localStorage.removeItem(\"inCart\")\r\n        localStorage.setItem(\"inCart\", JSON.stringify([]))\r\n        this.disabled = true\r\n        alert(\"Din beställning är skickad!\")\r\n        this.$router.push(\"/\")\r\n    }\r\n  },\r\n  computed: {\r\n      totPrice() {\r\n          let totalPrice = 0\r\n          for(let i in this.inCart){\r\n              if(this.inCart[i].quantity > 0){\r\n                  totalPrice += (this.inCart[i].price*this.inCart[i].quantity)\r\n              }\r\n          }\r\n          return totalPrice\r\n      }\r\n  }\r\n}\r\n</script>\r\n"]}]}
>>>>>>> Gustav
